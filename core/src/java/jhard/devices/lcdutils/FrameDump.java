package jhard.devices.lcdutils;

import java.util.stream.Collectors;
import java.util.stream.IntStream;

public class FrameDump {
  private final static String HEXA_DUMP_128x8 = "01 03 02 06 04 0C 08 18 10 30 20 60 40 C0 80 80 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 80 80 C0 40 60 20 30 10 18 08 0C 04 06 02 03 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 01 01 01 02 02 04 04 08 08 10 30 20 20 40 40 80 80 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 80 80 40 40 20 20 30 10 08 08 04 04 02 02 01 01 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 01 01 02 02 04 04 08 08 10 10 20 20 40 40 80 80 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 80 80 40 40 20 20 10 10 08 08 04 04 02 02 01 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 01 01 02 02 04 04 08 08 10 10 20 20 40 40 80 80 80 80 40 40 20 20 10 10 08 08 04 04 02 02 01 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 80 80 40 40 20 20 10 10 08 08 04 04 02 02 01 01 01 01 02 02 04 04 08 08 10 10 20 20 40 40 80 80 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 80 80 40 40 20 20 10 10 08 08 04 04 02 02 01 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 01 01 02 02 04 04 08 08 10 10 20 20 40 40 80 80 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 80 80 80 40 40 20 20 10 10 08 0C 04 04 02 02 01 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 01 01 02 02 04 04 0C 08 10 10 20 20 40 40 80 80 80 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 80 C0 40 60 20 30 10 18 08 0C 04 06 02 03 01 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 01 01 03 02 06 04 0C 08 18 10 30 20 60 40 C0 80";

  public static void dump(byte[] ba) {
    String frame = IntStream.range(0, ba.length)
            .map(idx -> ba[idx])
            .boxed()
            .map(b -> String.format("%02X", (b & 0xFF)))
            .collect(Collectors.joining(" "));
    dump(frame);
  }

  public static void dump(String frame) {
    String[] data = frame.split(" ");
    System.out.println(String.format("We have %d entry(ies).", data.length));
    if (data.length == 1024) {
      for (int row=0; row<8; row++) {
        for (int bit=0; bit<8; bit++) {
          for (int col=0; col<128; col++) {
            byte b = (byte)Integer.parseInt(data[(row * 128) + col], 16);
            System.out.print(String.format("%s", ((b & (1 << bit)) == 0) ? "_" : "X"));
          }
          System.out.println();
        }
      }
    }
  }

  public static void main(String... args) {
    dump(HEXA_DUMP_128x8);
  }
}
